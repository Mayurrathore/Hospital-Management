{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mayur.rathore\\\\Desktop\\\\js training\\\\Hospital Managment\\\\react\\\\hospital\\\\src\\\\component\\\\httpsecurecomponent.jsx\";\nimport React, { Component } from \"react\";\nimport { SecureCallService } from \"./secureservice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass HttpCallComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.clearReg = () => {\n      this.setState({\n        UserId: 0\n      });\n      this.setState({\n        RegUserName: \"\"\n      });\n      this.setState({\n        RegPAssword: \"\"\n      });\n    };\n\n    this.clearAuth = () => {\n      this.setState({\n        AuthUserName: \"\"\n      });\n      this.setState({\n        AuthPAssword: \"\"\n      });\n    };\n\n    this.handleInPutChanges = evt => {\n      this.setState({\n        [evt.target.name]: evt.target.value\n      });\n      this.validateInputs(evt.target.name, evt.target.value);\n    };\n\n    this.validateInputs = (name, value) => {\n      if (name === 'RegUserName') {\n        if (value.length === 0) {\n          this.setState({\n            isRegUserNameValid: false\n          });\n          this.setState({\n            isFormValid: false\n          });\n        } else {\n          this.setState({\n            isRegUserNameValid: true\n          });\n          this.setState({\n            isFormValid: true\n          });\n        }\n      }\n\n      if (name === 'RegPAssword') {\n        if (value.length === 0) {\n          this.setState({\n            isRegPAsswordValid: false\n          });\n          this.setState({\n            isFormValid: false\n          });\n        } else {\n          this.setState({\n            isRegPAsswordValid: true\n          });\n          this.setState({\n            isFormValid: true\n          });\n        }\n      }\n    };\n\n    this.state = {\n      UserId: 0,\n      RegUserName: \"\",\n      RegPAssword: \"\",\n      AuthUserName: \"\",\n      AuthPAssword: \"\",\n      message: \"\",\n      departments: [],\n      isRegUserNameValid: true,\n      isRegPAsswordValid: true,\n      isFormValid: true\n    };\n    this.serv = new SecureCallService();\n  }\n\n  register() {\n    let user = {\n      UserId: this.state.UserId,\n      UserName: this.state.RegUserName,\n      PAssword: this.state.RegPAssword\n    };\n    this.serv.registerUser(user).then(resp => {\n      this.setState({\n        message: resp.data.message\n      });\n    }).catch(error => {\n      this.setState({\n        message: `Error Occured ${error.message}`\n      });\n    });\n  }\n\n  auth() {\n    let user = {\n      UserName: this.state.AuthUserName,\n      PAssword: this.state.AuthPAssword\n    };\n    this.serv.authUser(user).then(resp => {\n      this.setState({\n        message: resp.data.message\n      });\n      sessionStorage.setItem(\"token\", resp.data.token);\n      alert();\n      this.props.history.push('/homepage');\n    }).catch(error => {\n      this.setState({\n        message: `Error Occured ${error.message}`\n      });\n    });\n  }\n\n  getValues() {\n    let token = sessionStorage.getItem(\"token\");\n\n    if (token === undefined) {\n      this.setState({\n        message: `Please send the Auth Header`\n      });\n    } else {\n      this.serv.getData(token).then(resp => {\n        this.setState({\n          departments: resp.data.message\n        });\n        this.setState({\n          message: `Data Received Successfully`\n        });\n      }).catch(error => {\n        this.setState({\n          message: `Error Occured ${error.message}`\n        });\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"The HTTP Call to Token-Based Secureity Service \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-bordred table-striped\",\n        children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"table table-bordred table-striped\",\n                children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: \"User Id\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 120,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        name: \"UserId\",\n                        onChange: this.handleInPutChanges.bind(this),\n                        className: \"form-control\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 122,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 121,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: \"User Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 131,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        name: \"RegUserName\",\n                        value: this.state.RegUserName,\n                        onChange: this.handleInPutChanges.bind(this),\n                        className: \"form-control\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 133,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"alert alert-danger\",\n                        hidden: this.state.isRegUserNameValid,\n                        children: \"The User Name is Required\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 140,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 132,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 130,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: \"Password\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 146,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"password\",\n                        className: \"form-control\",\n                        name: \"RegPAssword\",\n                        value: this.state.RegPAssword,\n                        onChange: this.handleInPutChanges.bind(this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 148,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"alert alert-danger\",\n                        hidden: this.state.isRegPAsswordValid,\n                        children: \"The Password is Required\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 155,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 147,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"button\",\n                        value: \"Clear\",\n                        onClick: this.clearReg.bind(this),\n                        className: \"btn btn-primary\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 162,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 161,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"button\",\n                        value: \"Register\",\n                        onClick: this.register.bind(this),\n                        disabled: !this.state.isFormValid,\n                        className: \"btn btn-success\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 170,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 169,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"table table-bordred table-striped\",\n                children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: \"User Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 186,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        name: \"AuthUserName\",\n                        className: \"form-control\",\n                        value: this.state.AuthUserName,\n                        onChange: this.handleInPutChanges.bind(this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 188,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 187,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: \"Password\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 198,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"password\",\n                        name: \"AuthPAssword\",\n                        className: \"form-control\",\n                        value: this.state.AuthPAssword,\n                        onChange: this.handleInPutChanges.bind(this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 200,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 199,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"button\",\n                        value: \"Clear\",\n                        onClick: this.clearAuth.bind(this),\n                        className: \"btn btn-primary\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 211,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 210,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"button\",\n                        value: \"Login\",\n                        onClick: this.auth.bind(this),\n                        className: \"btn btn-success\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 219,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 218,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"button\",\n                value: \"Get Data\",\n                onClick: this.getValues.bind(this),\n                className: \"btn btn-danger\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: JSON.stringify(this.state.departments)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: this.state.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default HttpCallComponent;","map":{"version":3,"sources":["C:/Users/mayur.rathore/Desktop/js training/Hospital Managment/react/hospital/src/component/httpsecurecomponent.jsx"],"names":["React","Component","SecureCallService","HttpCallComponent","constructor","props","clearReg","setState","UserId","RegUserName","RegPAssword","clearAuth","AuthUserName","AuthPAssword","handleInPutChanges","evt","target","name","value","validateInputs","length","isRegUserNameValid","isFormValid","isRegPAsswordValid","state","message","departments","serv","register","user","UserName","PAssword","registerUser","then","resp","data","catch","error","auth","authUser","sessionStorage","setItem","token","alert","history","push","getValues","getItem","undefined","getData","render","bind","JSON","stringify"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { SecureCallService } from \"./secureservice\";\r\nclass HttpCallComponent extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      UserId: 0,\r\n      RegUserName: \"\",\r\n      RegPAssword: \"\",\r\n      AuthUserName: \"\",\r\n      AuthPAssword: \"\",\r\n      message: \"\",\r\n      departments: [],\r\n      isRegUserNameValid:true,\r\n      isRegPAsswordValid:true,\r\n      isFormValid:true\r\n    };\r\n    this.serv = new SecureCallService();\r\n  }\r\n\r\n  clearReg = () => {\r\n    this.setState({ UserId: 0 });\r\n    this.setState({ RegUserName: \"\" });\r\n    this.setState({ RegPAssword: \"\" });\r\n  };\r\n  clearAuth = () => {\r\n    this.setState({ AuthUserName: \"\" });\r\n    this.setState({ AuthPAssword: \"\" });\r\n  };\r\n  register() {\r\n    let user = {\r\n      UserId: this.state.UserId,\r\n      UserName: this.state.RegUserName,\r\n      PAssword: this.state.RegPAssword,\r\n    };\r\n    this.serv\r\n      .registerUser(user)\r\n      .then((resp) => {\r\n        this.setState({ message: resp.data.message });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({ message: `Error Occured ${error.message}` });\r\n      });\r\n  }\r\n\r\n  auth() {\r\n    let user = {\r\n      UserName: this.state.AuthUserName,\r\n      PAssword: this.state.AuthPAssword,\r\n    };\r\n    this.serv\r\n      .authUser(user)\r\n      .then((resp) => {\r\n        this.setState({ message: resp.data.message });\r\n        sessionStorage.setItem(\"token\", resp.data.token);\r\n        alert()\r\n        this.props.history.push('/homepage');\r\n      })\r\n      .catch((error) => {\r\n        this.setState({ message: `Error Occured ${error.message}` });\r\n      });\r\n  }\r\n\r\n  getValues() {\r\n    let token = sessionStorage.getItem(\"token\");\r\n    if (token === undefined) {\r\n      this.setState({ message: `Please send the Auth Header` });\r\n    } else {\r\n      this.serv\r\n        .getData(token)\r\n        .then((resp) => {\r\n          this.setState({ departments: resp.data.message });\r\n          this.setState({ message: `Data Received Successfully` });\r\n        })\r\n        .catch((error) => {\r\n          this.setState({ message: `Error Occured ${error.message}` });\r\n        });\r\n    }\r\n  }\r\n\r\n  handleInPutChanges = (evt) => {\r\n    this.setState({ [evt.target.name]: evt.target.value });\r\n    this.validateInputs(evt.target.name,evt.target.value);\r\n  };\r\n\r\n  // validation logic\r\n  validateInputs=(name,value)=>{\r\n    if(name === 'RegUserName'){\r\n        if(value.length === 0) {\r\n            this.setState({isRegUserNameValid:false});\r\n            this.setState({isFormValid:false});\r\n        }else {\r\n            this.setState({isRegUserNameValid:true});\r\n            this.setState({isFormValid:true});\r\n        }\r\n    }\r\n    if(name === 'RegPAssword'){\r\n        if(value.length === 0) {\r\n            this.setState({isRegPAsswordValid:false});\r\n            this.setState({isFormValid:false});\r\n        }else {\r\n            this.setState({isRegPAsswordValid:true});\r\n            this.setState({isFormValid:true});\r\n        }\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-lg\">\r\n        <h3>The HTTP Call to Token-Based Secureity Service </h3>\r\n        <table className=\"table table-bordred table-striped\">\r\n          <tbody>\r\n            <tr>\r\n              <td>\r\n                <table className=\"table table-bordred table-striped\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <td>User Id</td>\r\n                      <td>\r\n                        <input\r\n                          type=\"text\"\r\n                          name=\"UserId\"\r\n                          onChange={this.handleInPutChanges.bind(this)}\r\n                          className=\"form-control\"\r\n                        />\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>User Name</td>\r\n                      <td>\r\n                        <input\r\n                          type=\"text\"\r\n                          name=\"RegUserName\"\r\n                          value={this.state.RegUserName}\r\n                          onChange={this.handleInPutChanges.bind(this)}\r\n                          className=\"form-control\"\r\n                        />\r\n                        <div className=\"alert alert-danger\" hidden={this.state.isRegUserNameValid}>\r\n                            The User Name is Required\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>Password</td>\r\n                      <td>\r\n                        <input\r\n                          type=\"password\"\r\n                          className=\"form-control\"\r\n                          name=\"RegPAssword\"\r\n                          value={this.state.RegPAssword}\r\n                          onChange={this.handleInPutChanges.bind(this)}\r\n                        />\r\n                          <div className=\"alert alert-danger\" hidden={this.state.isRegPAsswordValid}>\r\n                            The Password is Required\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>\r\n                        <input\r\n                          type=\"button\"\r\n                          value=\"Clear\"\r\n                          onClick={this.clearReg.bind(this)}\r\n                          className=\"btn btn-primary\"\r\n                        />\r\n                      </td>\r\n                      <td>\r\n                        <input\r\n                          type=\"button\"\r\n                          value=\"Register\"\r\n                          onClick={this.register.bind(this)}\r\n                          disabled={!this.state.isFormValid}\r\n                          className=\"btn btn-success\"\r\n                        />\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </td>\r\n              <td>\r\n                <table className=\"table table-bordred table-striped\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <td>User Name</td>\r\n                      <td>\r\n                        <input\r\n                          type=\"text\"\r\n                          name=\"AuthUserName\"\r\n                          className=\"form-control\"\r\n                          value={this.state.AuthUserName}\r\n                          onChange={this.handleInPutChanges.bind(this)}\r\n                        />\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>Password</td>\r\n                      <td>\r\n                        <input\r\n                          type=\"password\"\r\n                          name=\"AuthPAssword\"\r\n                          className=\"form-control\"\r\n                          value={this.state.AuthPAssword}\r\n                          onChange={this.handleInPutChanges.bind(this)}\r\n                        />\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>\r\n                        <input\r\n                          type=\"button\"\r\n                          value=\"Clear\"\r\n                          onClick={this.clearAuth.bind(this)}\r\n                          className=\"btn btn-primary\"\r\n                        />\r\n                      </td>\r\n                      <td>\r\n                        <input\r\n                          type=\"button\"\r\n                          value=\"Login\"\r\n                          onClick={this.auth.bind(this)}\r\n                          className=\"btn btn-success\"\r\n                        />\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <input\r\n                  type=\"button\"\r\n                  value=\"Get Data\"\r\n                  onClick={this.getValues.bind(this)}\r\n                  className=\"btn btn-danger\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <strong>\r\n                    {JSON.stringify(this.state.departments)}\r\n                </strong>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <hr />\r\n        <div className=\"container\">\r\n          <strong>{this.state.message}</strong>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HttpCallComponent;"]},"metadata":{},"sourceType":"module"}